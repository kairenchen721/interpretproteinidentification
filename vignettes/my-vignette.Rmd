---
title: "interpretProteinIdentification vignette, Author: Kai Ren Chen, Date: Nov/16/2021"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{my-vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Introduction
In proteomics, the typical approach is bottom-up proteomics, where proteins are digested into peptide by using proteases

Let say for example that you have obtain protein inference result (i.e. the protein that are considered by your protein inference algorithm to be in the sample that underwent mass spectrometry) based on peptide identified from raw mass spectra. 

And then you are confused why a certain protein is inferred, instead of another one, and what peptide is conclusion based off of?

This is where this package can help, it can plot the protein and peptide relationship as a bipartite graph, and show you all of that. 

# Making the Graph
First, we should, attach the package and download the file needed
```{r setup, eval=FALSE}
download.file("https://github.com/OpenMS/OpenMS/raw/master/share/OpenMS/examples/BSA/BSA1_OMSSA.idXML", "BSA1_OMSSA.idXML")
```

```{r attach package}
devtools::install_github("kairenchen721/interpretproteinidentification")
library(interpretproteinidentification)
```

```{r makeFilePath}
firstFilePath <- file.path("BSA1_OMSSA.idXML")
secondFilePath <- file.path("BSA1_OMSSA_AFTER.idXML")
```


all you need to do is to call the function and assign it
```{r makeGraph}
graphForProteinInference <- interpretproteinidentification::generateBipartiteGraph(firstFilePath, secondFilePath)
```
note that the first file path should refer to the pre protein inference file, and the second one should refer to the post protein inference file. This function will not generate a plot

# Looking at a Component of the Graph
After the \code{generateBipartiteGraph} is ran, we can take it return and display a component of it

Lets say we want to display component 1
```{r displayComponent}
componentYouWantToDisplay <- interpretproteinidentification::displayComponent(graphForProteinInference, 1)
```

And it would show a plot like this, where all the node are (weakly) connected

# Looking at a single protein
If you only want to look at one protein (Or one peptide only), you can also display that only

You can do so by calling
```{r selectProtein}
interpretproteinidentification::selectProtein(componentYouWantToDisplay, "P02769|ALBU_BOVIN")
```

And it would show a plot with the protein with the identifier that you inputted, along with its connected peptides

You can also select the peptide with the identifier that you inputted, along with its connected proteins

```{r selectPeptide}
interpretproteinidentification::selectProtein(componentYouWantToDisplay, "DDSPDLPK")
```


# Search based on annotationns
feature yet to be implemented

